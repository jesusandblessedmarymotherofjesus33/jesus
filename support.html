
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نموذج التواصل</title>
    <link rel="stylesheet" href="style.css"> <!-- إذا كنت تستخدم CSS مخصص -->
</head>
<body>

    <div class="contact-form-container">
        <h2>نموذج التواصل</h2>
        <form action="php.php" method="POST">
            <label for="name">الاسم الكامل:</label>
            <input type="text" id="name" name="name" required class="p-2 w-full bg-gray-50 dark:bg-gray-900 border rounded-lg mb-4">

            <label for="email">البريد الإلكتروني:</label>
            <input type="email" id="email" name="email" required class="p-2 w-full bg-gray-50 dark:bg-gray-900 border rounded-lg mb-4">

            <label for="message">رسالتك:</label>
            <textarea id="message" name="message" rows="4" required class="p-2 w-full bg-gray-50 dark:bg-gray-900 border rounded-lg mb-4"></textarea>

            <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">إرسال</button>
        </form>
    </div>
    <?php
use PHPMailer\PHPMailer\PHPMailer;
use PHPMailer\PHPMailer\Exception;

// تضمين مكتبة PHPMailer
require 'vendor/autoload.php';  // تأكد من أنك قمت بتثبيت PHPMailer عبر Composer

// تأكد من أن النموذج تم إرساله عبر POST
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    // الحصول على البيانات من النموذج
    $name = sanitize_input($_POST["name"]);
    $email = sanitize_input($_POST["email"]);
    $message = sanitize_input($_POST["message"]);

    // تحقق من البيانات (مثلاً التحقق من صحة البريد الإلكتروني)
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        echo "البريد الإلكتروني غير صالح.";
        exit;
    }

    // إعداد البريد الإلكتروني باستخدام PHPMailer
    $mail = new PHPMailer(true);

    try {
        // إعدادات الخادم
        $mail->isSMTP();                                            // تحديد نوع الاتصال SMTP
        $mail->Host = 'smtp.gmail.com';                               // خادم SMTP لجوجل
        $mail->SMTPAuth = true;                                       // تفعيل التوثيق
        $mail->Username = 'your-email@gmail.com';                     // البريد الإلكتروني المستخدم لإرسال الرسائل
        $mail->Password = 'jjdgjrh;                      // كلمة مرور حسابك في جوجل أو كلمة مرور التطبيق
        $mail->SMTPSecure = PHPMailer::ENCRYPTION_STARTTLS;           // تشفير الاتصال
        $mail->Port = 587;                                            // المنفذ المستخدم (587 هو المنفذ الآمن للبريد الإلكتروني)

        // من وإلى
        $mail->setFrom('your-email@gmail.com', 'اسم الموقع');
        $mail->addAddress('acounntmotherofjesusmedia@gmail.com');      // عنوان البريد المستلم
        $mail->addReplyTo($email, $name);                             // تعيين عنوان البريد للرد

        // المحتوى
        $mail->isHTML(true);                                          // استخدام HTML في البريد
        $mail->Subject = "رسالة تواصل جديدة من: $name";               // الموضوع
        $mail->Body    = "<strong>الاسم:</strong> $name<br>
                          <strong>البريد الإلكتروني:</strong> $email<br>
                          <strong>الرسالة:</strong><br>$message"; // محتوى الرسالة

        // إرسال البريد
        $mail->send();
        echo "تم إرسال رسالتك بنجاح!";
    } catch (Exception $e) {
        echo "حدث خطأ أثناء إرسال الرسالة: {$mail->ErrorInfo}";
    }
}

// دالة لتنظيف المدخلات
function sanitize_input($data) {
    $data = trim($data);
    $data = stripslashes($data);
    $data = htmlspecialchars($data);
    return $data;
}
?>
<script src="script.js"></script><!-- سكريبت الظهور بعد التحميل -->
  <script>
    window.addEventListener("load", () => {
      setTimeout(() => {
        document.body.classList.add("loaded");
      }, 800);
    });

    function toggleSidebar() {
      document.getElementById("sidebar").classList.toggle("open");
    }

    function openFullScreen(img) {
      const container = document.getElementById("fullscreen-container");
      const fullImg = document.getElementById("fullscreen-image");
      fullImg.src = img.src;
      container.style.display = "flex";
    }

    function closeFullScreen() {
      document.getElementById("fullscreen-container").style.display = "none";
    }

    function start() {
      window.location.href = "main.html";
    }

    function changeLanguage(lang) {
      alert("سيتم تحويل اللغة إلى: " + lang);
    }
  </script>
<script>
function sayAmen() {
  alert("آمين!");
}

function lightCandle() {
  const candleBtn = event.target;
  candleBtn.classList.toggle("candle-lit");
  candleBtn.innerText = candleBtn.classList.contains("candle-lit") ? "أُضيئت شمعة" : "أضئ شمعة";
}

function copyPrayer() {
  const prayer = document.getElementById("good-friday-prayer").innerText;
  navigator.clipboard.writeText(prayer).then(() => {
    alert("تم نسخ الصلاة!");
  });
}
function lightCandle() {
  const container = document.getElementById('candleContainer');
  const candle = document.createElement('div');
  candle.classList.add('candle');

  const flame = document.createElement('div');
  flame.classList.add('flame');

  candle.appendChild(flame);
  container.appendChild(candle);
}
function lightPrayer() {
  const section = document.getElementById("prayerSection");
  section.classList.add("glow");
}
</script>
<script>
  // إظهار الزر عند التمرير
  window.onscroll = function () {
    const btn = document.getElementById("scrollTopBtn");
    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
      btn.style.display = "block";
    } else {
      btn.style.display = "none";
    }
  };

  // تنفيذ الرجوع للأعلى
  function scrollToTop() {
    window.scrollTo({ top: 0, behavior: "smooth" });
  }
<script>
function toggleDarkMode() {
    document.body.classList.toggle("dark-mode");
}
</script>
</script>
</body>
<button onclick="scrollToTop()" id="scrollTopBtn" title="رجوع لأعلى">↑</button>
</html>
</body>
</html>
